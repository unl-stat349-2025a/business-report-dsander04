<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.40">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Appendix D — Draft: Intro/Conclusions – Too Hot to Handle: An Evaluation of Water Temperature at the Dauphin Island Nuclear Power Plant</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./draft-results.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dece3bd051e391dd7205a6b15f93dc59.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-989e5504e886528910461c002137a974.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./draft-data-doc.html">Appendices</a></li><li class="breadcrumb-item"><a href="./draft-intro-conclusions.html"><span class="chapter-number">D</span>&nbsp; <span class="chapter-title">Draft: Intro/Conclusions</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Too Hot to Handle: An Evaluation of Water Temperature at the Dauphin Island Nuclear Power Plant</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Executive Summary</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./methods.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Methods</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./results.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title"><strong>Results</strong></span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discussion.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Discussion</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Appendices</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./draft-data-doc.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">Draft: Data Documentation</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./draft-exec-summary.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">B</span>&nbsp; <span class="chapter-title">Draft: Executive Summary</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./draft-results.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">C</span>&nbsp; <span class="chapter-title">Draft: Results</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./draft-intro-conclusions.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">D</span>&nbsp; <span class="chapter-title">Draft: Intro/Conclusions</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
        
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./draft-data-doc.html">Appendices</a></li><li class="breadcrumb-item"><a href="./draft-intro-conclusions.html"><span class="chapter-number">D</span>&nbsp; <span class="chapter-title">Draft: Intro/Conclusions</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title">Appendix D — Draft: Intro/Conclusions</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>Intro</p>
<p>There are many well-known risks involved with nuclear power generation, one of those being overheating of the cooling system. In many plants, water is used to cool the reactor and transfer thermal heat that can be transformed into electricity. This is crucial in a nuclear power plant, but if that water is too hot initially, the plant cannot run efficiently and may damage the surrounding environment. This is what we are trying to study at the Dauphin Island Nuclear Power Plant on Dauphin Island in Alabama. What is the risk of the “cooling water” getting too hot for the plant to operate at full capacity?</p>
<p>Multiple studies have found increased water temperature to be detrimental to the operation of a nuclear power plants across the world. The World Nuclear Organization details multiple accounts of this happening in their article on cooling power plants. They say, “. . . had to reduce power at its three Browns Ferry units in Alabama to 50% in order to keep river water temperatures below 32 degrees Celsius. . . Rhine and Neckar River temperatures . . . approached the critical 28 degrees Celsius, and nuclear and coal-fired plants were threatened with closure. In August of 2012 one unit of Millstone power station in Connecticut was closed because the seawater in Long Island Sound exceeded 24 degrees Celsius” <span class="citation" data-cites="cooling">(<a href="references.html#ref-cooling" role="doc-biblioref"><strong>cooling?</strong></a>)</span>. This gives us a good idea of what is to be expected when water temperatures get too high. However, we want to know about the Dauphin Island plant off the southern coast of Alabama. There is little to no information about nuclear power stations in the area that use seawater to cool the reactors, so we hope to fill in that gap and find the risk of a partial shutdown.</p>
<p>Using data from weather stations in the area, we analyzed the probability of the Dauphin Island plant having to reduce their operations due to increased cooling water. Our findings indicated most summer days reach a temperature above the guideline, forcing our plant to reduce operations to half . 95% confidence intervals suggest there will be a minimum of 30 days worth of shutdowns each of the next five years, with the potential for up to 170 days. We also found nuclear power to be a large source of power in Alabama, leading to potential power outages if the plant were to be forced to function at 50% output.</p>
<p>Discussion</p>
<p>In order to answer the research question, “What are the risks associated with warm water used for reactor cooling at the Dauphin Island Nuclear Power Plant?”, we must analyze the data we collected above. The reactor at Dauphin Island is designed to use seawater during the cooling process. To do so, it collects sea water to pump through the reactor in order to transfer energy away from the reactor and into the water, warming it. Warmer water cannot have as much thermal energy transferred into it as cooler water, and therefore cannot generate as much power <span class="citation" data-cites="cooling">(<a href="references.html#ref-cooling" role="doc-biblioref"><strong>cooling?</strong></a>)</span>. It is also important to note that there are environmental factors to be considered. A power plant releasing heated water back into its surroundings can disrupt the ecological balance, harming or killing the plants and animals in the area. Due to the potential risks and NRC regulations, once the water temperature surrounding the plant reaches 85 degrees F, the plant must reduce all operations to 50% for the next 24 hours.</p>
<p>In our data collection, we found 94 days in 2024 would have had to reduce operations at the Power Plant. By cutting power on 25.68% of the days, the surrounding areas that rely on the plant for power are now looking at losing power or having to drastically cut down on their electricity usage. Using predictive models and confidence intervals, we can predict the number of “shutdown days” over the next five years. The chart below gives those limits as well as the predicted number of shutdown days. For example, in 2025, we are 95% confident the true number of observed days that water temperature reaches 85° F is between 40.8 and 157.8. It appears the predicted number of days seems to be increasing by about 1 day per year, but the lower confidence limit is decreasing while the upper confidence limit is increasing, so we cannot definitively say if the number of days per year is increasing, decreasing, or staying the same.</p>
<table class="caption-top table">
<colgroup>
<col style="width: 7%">
<col style="width: 32%">
<col style="width: 30%">
<col style="width: 30%">
</colgroup>
<thead>
<tr class="header">
<th>Year</th>
<th>Predicted Number of Days</th>
<th>Lower Confidence Limit</th>
<th>Upper Confidence Limit</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>2025</td>
<td>99.3</td>
<td>40.8</td>
<td>157.8</td>
</tr>
<tr class="even">
<td>2026</td>
<td>100.2</td>
<td>39.9</td>
<td>160.5</td>
</tr>
<tr class="odd">
<td>2027</td>
<td>101.1</td>
<td>38.9</td>
<td>163.3</td>
</tr>
<tr class="even">
<td>2028</td>
<td>101.9</td>
<td>37.6</td>
<td>166.2</td>
</tr>
<tr class="odd">
<td>2029</td>
<td>102.8</td>
<td>36.2</td>
<td>169.3</td>
</tr>
</tbody>
</table>
<p>We also wanted to find the average water temperature for each day to track potential long-term outages. As is suspected, the summer months had the most days with water temperatures averaging 85° and higher. Utilizing the data we collected, we found August to have the highest average number of days per year that exceeded 85° with 25. July was close behind at 24 days, while September and June had 2 days a piece. To make this easier to see, we graphed the average water temperature for each day in a bar chart. The dashed red line is the 85° threshold, so any bars that reach above that are days that would be heavily expected to require a shutdown.</p>
<p><img src="images/Screenshot 2025-04-16 171204.png" class="img-fluid"></p>
<p>According to the U.S. Energy Information Administration, 33% of the electricity used in Alabama in 2023 was generated by the two nuclear power plants in the state <span class="citation" data-cites="u.s.ene">(<a href="references.html#ref-u.s.ene" role="doc-biblioref"><strong>u.s.ene?</strong></a>)</span>. Just one of the two operating at half capacity would have a detrimental effect on consumer energy use in the state. Residents would have to operate without certainty of when they’d have power, fearful of outages and relying on generators during the summer months. Essential businesses such as hospitals, grocery stores, and pharmacies will take precedent, likely not losing power completely, but possibly having to cut down on electrical usage.</p>
<p>Throughout the data collection process, we did our best to reduce any potential error. Despite using more than a decade of data collected by the NOAA finding more data that goes back even further would be helpful in making our results more accurate. We may not get a complete picture of trends in water temperature, so we may not be able to make predictions about the future as accurately. In the data we collected, every day of each year has multiple observations throughout the day, so we don’t have to worry about only observing a maximum or minimum temperature for that day. It is also important to note that we combined a few data sets to create our final combined set. All but one year of data came from the Dauphin Island 1 and 2 meteorological stations, which are conveniently located less than a mile away from each other. This difference would likely be negligible and can be ignored. Unfortunately, the data for 2021 was missing or largely incomplete for every NOAA station within 20 miles of Dauphin Island, so we had to use data from an offshore station about 30 ESE of the other Dauphin Island stations. This data may be different than what was actually observed at Dauphin Island, so it is important to note that our results may be influenced. We’d much prefer statistics from Dauphin Island itself in the year 2021, so our data analysis can be rerun if it is ever uncovered.</p>
<p>It may also be useful to our analysis finding exact data on electricity output and usage over the last decade or more in Alabama. For the purposes of this paper, we did not find it to be necessary that we use exact data. Instead, we cited data from the United States Energy Information Administration and the World Nuclear Association to make claims and analyses.</p>
<p>We can connect the data we’ve collected to previous studies to help build a better understanding of water temperature in cooling nuclear reactors. In an article about Climate Resilience, Matthew Bandyk states the Oyster Creek nuclear power plant was closed, “rather than spend $800 million developing a new water cooing system in order to reduce the amount of heated water the plant discharged into the local bay. . . harming the aquatic ecosystem” <span class="citation" data-cites="fornucl">(<a href="references.html#ref-fornucl" role="doc-biblioref"><strong>fornucl?</strong></a>)</span>. If water temperatures become too consistently high, it’s possible the Dauphin Island plant may have a future similar to the Oyster Creek plant. The article doesn’t just focus on one power plant though. They found there to be 17 cases in which a nuclear power plant in the United States had to reduce operations due to high water temperature in 2019. That number increased to 25 cases in 2020. Bandyk mentions though, that the trend is not linear, and can fluctuate based on yearly weather patterns like El Nino. This data signals shutdowns due to extreme heat are not as rare as they may initially seem.</p>
<p>This use of water to cool nuclear power plants is not just exclusive to Dauphin Island, Alabama, or even the United States. Worldwide, this same system is used. Different countries or regions may have different guidelines on ideal water temperature, but the idea and consequences are the same. For example, the World Nuclear Association writes about the Brown’s Ferry Nuclear Power Plant in Northern Alabama, “In mid 2010, TVA had to reduce power at its three Brown’s Ferry Units in Alabama to 50% in order to keep river water temperatures below 32 degrees C, at a cost to some $50 million to customers” <span class="citation" data-cites="cooling">(<a href="references.html#ref-cooling" role="doc-biblioref"><strong>cooling?</strong></a>)</span>. Worldwide, almost 10% of all energy used comes from the 440 nuclear power plants across the globe <span class="citation" data-cites="nuclear">(<a href="references.html#ref-nuclear" role="doc-biblioref"><strong>nuclear?</strong></a>)</span>. The World Nuclear Association states that some countries like France, Hungary, or Ukraine, rely on nuclear energy for more than half of their electricity. In these cases, the threat of operating at half capacity is more daunting, as it can effect much of a country’s power output.</p>
<p>Despite the research we’ve done on the topic, there are multiple opportunities to build on the knowledge we’ve gained. Using local and national guidelines, one can research the probability of partial shutdowns at any nuclear power plant across the world. It may be particularly helpful to research France’s nuclear power plants as they supply over 70% of the country’s electrical output. A major heat wave and increase in surrounding water temperatures could lead to ruinous power outages across the country. Researching the probability of these outages and the effects they could have is a great first step to mitigating a country-wide disaster.</p>
<p>Due to increasing concern for the effects of climate change on environments, we would also recommend further research be done on how the Dauphin Island power plant may be effected. If water temperature is increasing on average year-over-year, the power plant could be at risk for longer periods of working at 50% capacity, further straining power supplies in Alabama. Prevention and alleviation tactics would be the best focuses of future study.</p>
<p>Finally, alternative water sources or water cooling systems could help ease the stress on nuclear power plants. The use of groundwater is an intriguing topic, but its slow replenishment could lead to future resource issues. Rapid cooling of sea water is another interesting idea, but trade offs must be studied to find the feasibility of this idea. Upgrading existing cooling features like building a secondary cooling tower to make the process more efficient should be looked into as well.</p>



</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./draft-results.html" class="pagination-link" aria-label="Draft: Results">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">C</span>&nbsp; <span class="chapter-title">Draft: Results</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>Copyright 2025, Dominic Sander</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>